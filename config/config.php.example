<?php

// --- CONFIGURAÇÃO DA URL BASE ---
// Lógica robusta para detectar a URL base da aplicação.
$protocol = (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off') ? "https://" : "http://";
$host = $_SERVER['HTTP_HOST'];

// Caminho do diretório do projeto no sistema de arquivos (ex: /home/user/public_html/painelShopping)
$project_path = dirname(dirname(__FILE__)); // Sobe dois níveis de /config/config.php.example

// Caminho da raiz do servidor web (ex: /home/user/public_html)
$document_root = realpath($_SERVER['DOCUMENT_ROOT']);

// Encontra o caminho relativo do projeto em relação à raiz do servidor
$relative_path = str_replace($document_root, '', $project_path);

// Garante que as barras sejam no formato de URL
$base_url = $protocol . $host . str_replace('\\', '/', $relative_path);

define('BASE_URL', rtrim($base_url, '/'));
// --------------------------------

// Exibe todos os erros (útil para desenvolvimento)
ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);

// Define o fuso horário
date_default_timezone_set('America/Sao_Paulo');

// Configurações do Banco de Dados (PREENCHA COM SEUS DADOS)
define('DB_HOST', 'localhost');
define('DB_USER', '');
define('DB_PASS', '');
define('DB_NAME', 'painel_shopping');

// Configurações do Tema
define('THEME_CONFIG', [
    'header_logo_url'   => 'https://via.placeholder.com/150x50.png?text=Sua+Logo',
    'header_cor_fundo'  => '#FFFFFF',
    'header_cor_letra'  => '#000000',
    'footer_cor_fundo'  => '#F8F9FA',
    'footer_cor_letra'  => '#6C757D',
]);
